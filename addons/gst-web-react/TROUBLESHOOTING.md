# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ / Troubleshooting

## –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–±–∏—Ç—Ä–µ–π—Ç, framerate) –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ò–∑–º–µ–Ω—è–µ—Ç–µ Video bitrate/framerate/Audio bitrate –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
- –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

**–ü—Ä–∏—á–∏–Ω—ã:**
- Data channel –Ω–µ –æ—Ç–∫—Ä—ã—Ç
- WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- –°–ª–∏—à–∫–æ–º —Ä–∞–Ω–Ω–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–†–µ—à–µ–Ω–∏–µ:**

1. **–î–æ–∂–¥–∏—Ç–µ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
   - –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `data channel open`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**
   ```javascript
   // –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
   "data channel open"
   "video framerate changed to 60"
   "Sending message: vb,8000"
   ```

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - –°–Ω–∞—á–∞–ª–∞ –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ—è–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ
   - –ó–∞—Ç–µ–º –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ WebRTC Data Channel. –î–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–∞–Ω–∞–ª–∞ (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è) –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `initializedRef` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.

---

### 2. ‚ùå –û—à–∏–±–∫–∞: Cannot read properties of undefined (reading 'readText')

**–ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:**
```
Uncaught TypeError: Cannot read properties of undefined (reading 'readText')
    at vs (index-*.js:40:94857)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Clipboard API (`navigator.clipboard.readText()`) –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (HTTP).

**–†–µ—à–µ–Ω–∏–µ:**

**–í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)**

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt):
   ```bash
   sudo apt install certbot python3-certbot-nginx
   sudo certbot --nginx -d your-domain.com
   ```

2. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   ```nginx
   server {
       listen 443 ssl http2;
       server_name your-domain.com;
       
       ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
       ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;
       
       root /var/www/gst-web;
       index index.html;
       
       location / {
           try_files $uri $uri/ /index.html;
       }
   }
   ```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ localhost (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)**

```bash
# Dev —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç localhost
npm run dev
# –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:5173
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ clipboard (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞)**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ clipboard, –Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
console.log('Clipboard available:', !!navigator.clipboard);
console.log('Protocol:', window.location.protocol);
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: https: –∏–ª–∏ localhost
```

---

### 3. ‚ùå URL –ø–∞—Ä–∞–º–µ—Ç—Ä `server` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
http://209.250.236.147:8080/?server=209.250.236.146&port=8080&app=desktop
```
–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ 147 –≤–º–µ—Å—Ç–æ 146.

**–ü—Ä–∏—á–∏–Ω–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞):**
`config.ts` –Ω–µ —á–∏—Ç–∞–ª URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ (—É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ):**
–ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º:
```
URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã > config props > window.location
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**

2. **–ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   ```
   [Config] URL params: {server: "209.250.236.146", port: "8080", app: "desktop"}
   [Config] Using URL params config: {host: "209.250.236.146", port: 8080, ...}
   [Config] Signalling URL: ws://209.250.236.146:8080/desktop/signalling/
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   - –í–∫–ª–∞–¥–∫–∞ Network ‚Üí WS
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å WebSocket –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å Ctrl+F5
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL (–±–µ–∑ –æ–ø–µ—á–∞—Ç–æ–∫)

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç URL:**
```
http://YOUR_WEB_SERVER:PORT/?server=WEBRTC_SERVER&port=WEBRTC_PORT&app=APP_NAME&debug=true
```

**–ü—Ä–∏–º–µ—Ä:**
```
http://209.250.236.147:8080/?server=209.250.236.146&port=8080&app=desktop&debug=true
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `server` | IP/hostname WebRTC —Å–µ—Ä–≤–µ—Ä–∞ | `209.250.236.146` |
| `port` | –ü–æ—Ä—Ç signalling —Å–µ—Ä–≤–µ—Ä–∞ | `8080` |
| `app` | –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `desktop` |
| `debug` | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `true` / `false` |
| `encoder` | –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥–µ–∫ | `h264` / `h265` / `vp9` |
| `audio` | –í–∫–ª—é—á–∏—Ç—å –∞—É–¥–∏–æ | `true` / `false` |
| `resizeRemote` | –ò–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | `true` / `false` |
| `scaleLocal` | –õ–æ–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ | `true` / `false` |

---

### 4. ‚ùå –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω, –Ω–µ—Ç –≤–∏–¥–µ–æ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **WebRTC —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ WebRTC
   netstat -tlnp | grep 8080
   # –î–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç 8080
   ```

2. **WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `WebSocket connection established`
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `WebSocket connection failed`

3. **ICE –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è: `Adding ICE candidate`

4. **–í–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Received incoming video stream from peer`

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ STUN/TURN**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å TURN —Å–µ—Ä–≤–µ—Ä–∞
   curl http://YOUR_SERVER:8080/turn
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π TURN
   ```

**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `ERR_CONNECTION_REFUSED` - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç
- `ICE connection failed` - –ø—Ä–æ–±–ª–µ–º—ã —Å STUN/TURN
- `No video track` - –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª

---

### 5. ‚ùå –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (lag)

**–†–µ—à–µ–Ω–∏—è:**

1. **–í–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º:**
   ```
   ?debug=true
   ```
   –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è latency.

2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∫–æ–¥–µ–∫:**
   ```
   ?encoder=h264  # –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π
   ?encoder=h265  # –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞
   ?encoder=vp9   # –°—Ä–µ–¥–Ω–µ–µ
   ```

3. **–£–º–µ–Ω—å—à–∏—Ç–µ –±–∏—Ç—Ä–µ–π—Ç:**
   - Video bitrate: 2000-4000 kbps (–≤–º–µ—Å—Ç–æ 8000+)
   - –ú–µ–Ω—å—à–µ –±–∏—Ç—Ä–µ–π—Ç = –º–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞, —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å:**
   ```bash
   ping YOUR_WEBRTC_SERVER
   # Ping –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 50ms –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ (NVENC/VAAPI)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É CPU/GPU (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 80%)

---

### 6. ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–≤—É–∫

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **Audio –≤–∫–ª—é—á–µ–Ω –≤ URL:**
   ```
   ?audio=true
   ```

2. **–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç autoplay:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - Chrome —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è audio

3. **Audio element –≤ DOM:**
   - F12 ‚Üí Elements
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å `<audio>` —ç–ª–µ–º–µ–Ω—Ç

4. **Audio stream –ø–æ–ª—É—á–µ–Ω:**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Received incoming audio stream from peer`

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è autoplay:**
–ö–ª–∏–∫–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Start" –µ—Å–ª–∏ –æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

---

### 7. ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞/–º—ã—à—å

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ —Ñ–æ–∫—É—Å–µ:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤–∏–¥–µ–æ

2. **Data channel –æ—Ç–∫—Ä—ã—Ç:**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `data channel open`

3. **–°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:**
   - –í–∫–ª—é—á–∏—Ç–µ `?debug=true`
   - –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ –¥–æ–ª–∂–Ω—ã –ª–µ—Ç–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

4. **Pointer Lock –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π–Ω–æ:**
   - –ù–∞–∂–º–∏—Ç–µ ESC –¥–ª—è –≤—ã—Ö–æ–¥–∞

**–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
webrtc.input.attach();  // –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å input
```

---

### 8. ‚ùå Gamepad –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **Gamepad –ø–æ–¥–∫–ª—é—á–µ–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏**
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   navigator.getGamepads()
   // –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ —Å –≥–µ–π–º–ø–∞–¥–æ–º
   ```

2. **–ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –Ω–∞ –≥–µ–π–º–ø–∞–¥–µ**
   - –ë—Ä–∞—É–∑–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≥–µ–π–º–ø–∞–¥ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å:**
   ```
   Gamepad connected at index 0: Xbox Controller
   ```

4. **–°—Ç–∞—Ç—É—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
   - –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∏–º—è –≥–µ–π–º–ø–∞–¥–∞ –≤–º–µ—Å—Ç–æ "disconnected"

---

### 9. ‚ùå Fullscreen –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **–ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç:**
   - Fullscreen —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∂–µ—Å—Ç–∞
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –∫–ª–∏–∫–æ–º, –∞ –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ä—è—á—É—é –∫–ª–∞–≤–∏—à—É:**
   ```
   Ctrl + Shift + F  - –í–æ–π—Ç–∏ –≤ fullscreen
   ESC               - –í—ã–π—Ç–∏ –∏–∑ fullscreen
   F11               - –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π fullscreen
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
   - –ê–¥—Ä–µ—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Üí –ò–∫–æ–Ω–∫–∞ –∑–∞–º–∫–∞ ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
   - –†–∞–∑—Ä–µ—à–∏—Ç—å fullscreen –¥–ª—è —Å–∞–π—Ç–∞

---

### 10. ‚ùå CORS –æ—à–∏–±–∫–∏

**–û—à–∏–±–∫–∞:**
```
Access to fetch at 'http://...' from origin 'http://...' has been blocked by CORS policy
```

**–†–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ WebRTC:**

–î–æ–±–∞–≤—å—Ç–µ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```python
# Python (Flask)
from flask_cors import CORS
app = Flask(__name__)
CORS(app)
```

```nginx
# Nginx
add_header Access-Control-Allow-Origin *;
add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
add_header Access-Control-Allow-Headers "*";
```

---

## üîç –û–±—â–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

**–•–æ—Ä–æ—à–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:**
```
[Config] URL params: {server: "...", port: "...", app: "..."}
[Config] Signalling URL: ws://...
WebSocket connection established
data channel open
Received incoming video stream from peer
```

**–ü–ª–æ—Ö–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:**
```
WebSocket connection failed
ICE connection failed
Failed to read clipboard contents
Cannot read properties of undefined
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network –≤–∫–ª–∞–¥–∫—É

1. F12 ‚Üí Network ‚Üí WS
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å WebSocket –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
3. –°—Ç–∞—Ç—É—Å: 101 Switching Protocols (–∑–µ–ª–µ–Ω—ã–π)
4. Frames –≤–∫–ª–∞–¥–∫–∞: –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã URL

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
const params = new URLSearchParams(window.location.search);
console.log('server:', params.get('server'));
console.log('port:', params.get('port'));
console.log('app:', params.get('app'));
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebRTC —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

–í–∫–ª—é—á–∏—Ç–µ `?debug=true` –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

- **Video Bitrate** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0
- **FPS** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0
- **Latency** - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ < 50ms
- **Connection type** - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ "relay" –∏–ª–∏ "host"

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ–±–ª–µ–º–µ

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è, —Å–æ–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

1. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   ```
   F12 ‚Üí Console ‚Üí Ctrl+A ‚Üí Ctrl+C ‚Üí –í—Å—Ç–∞–≤–∏—Ç—å –≤ –æ—Ç—á–µ—Ç
   ```

2. **URL –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ:**
   ```
   http://209.250.236.147:8080/?server=209.250.236.146&port=8080&app=desktop&debug=true
   ```

3. **–í–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞:**
   ```
   chrome://version (–≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ Chrome)
   about:support (–≤ Firefox)
   ```

4. **Network –≤–∫–ª–∞–¥–∫–∞:**
   - F12 ‚Üí Network ‚Üí WS
   - –°–∫—Ä–∏–Ω—à–æ—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

5. **–õ–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞ WebRTC:**
   ```bash
   journalctl -u selkies -n 100
   # –∏–ª–∏ –≥–¥–µ —É –≤–∞—Å —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–≥–∏
   ```

---

## üÜò –ü–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å

1. **GitHub Issues:** —Å–æ–∑–¥–∞–π—Ç–µ issue —Å –ª–æ–≥–∞–º–∏
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** —Å–º. README.md, DEPLOY.md
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π gst-web:** –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–º, –Ω–æ –Ω–µ –∑–¥–µ—Å—å - —Å–æ–æ–±—â–∏—Ç–µ

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å–æ–æ–±—â–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ, —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –ë—Ä–∞—É–∑–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
- [ ] –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—â–µ–Ω (Ctrl+Shift+Delete)
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –∏–ª–∏ localhost (–¥–ª—è clipboard)
- [ ] WebRTC —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–±–µ–∑ –æ–ø–µ—á–∞—Ç–æ–∫)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ —Å `?debug=true`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ Network –≤–∫–ª–∞–¥–∫—É (WebSocket)
- [ ] –î–æ–∂–¥–∞–ª–∏—Å—å –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–ª–∏)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-16

