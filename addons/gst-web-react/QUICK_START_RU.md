# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (111.111.111.111)

## –°–∏—Ç—É–∞—Ü–∏—è

- WebRTC —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **111.111.111.111:8080**
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –ù—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–æ–±–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏

## –†–µ—à–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã!

---

## üì• –ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ (111.111.111.111)

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ—Ä–Ω–µ–≤–æ–π build.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cd ~/github/selkies

# –°–æ–±–µ—Ä–∏—Ç–µ —Å gst-web-react (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
./build.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ dist/selkies-gstreamer-web_v*.tar.gz
```

**–ò–ª–∏ –¥–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π Vue.js –≤–µ—Ä—Å–∏–∏:**

```bash
WEB_VARIANT=gst-web ./build.sh
```

–ó–∞—Ç–µ–º —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ:

```bash
# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
sudo tar -xzf dist/selkies-gstreamer-web_v*.tar.gz -C /opt

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –≤–µ–±-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo cp -r /opt/gst-web-react/* /var/www/gst-web/
```

### –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–µ—Å–ª–∏ –Ω–µ—Ç Docker)

```bash
cd ~/github/selkies/addons/gst-web-react

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã
sudo mkdir -p /var/www/gst-web
sudo cp -r dist/* /var/www/gst-web/
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (Nginx)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
sudo nano /etc/nginx/sites-available/gst-web
```

–í—Å—Ç–∞–≤—å—Ç–µ:

```nginx
server {
    listen 80;
    server_name 111.111.111.111;

    root /var/www/gst-web;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ:

```bash
sudo ln -s /etc/nginx/sites-available/gst-web /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 5. –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://111.111.111.111/?server=111.111.111.111&port=8080&app=desktop&debug=true
```

---

## üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-repo/selkies
cd selkies/addons/gst-web-react
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä

```
http://localhost:5173/?server=111.111.111.111&port=8080&app=desktop&debug=true
```

**–¢–µ–ø–µ—Ä—å –≤—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É!** üéâ

---

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–∞—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------------|----------|
| `server` | `111.111.111.111` | IP –≤–∞—à–µ–≥–æ WebRTC —Å–µ—Ä–≤–µ—Ä–∞ (–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–π–¥—É—Ç —Å—é–¥–∞) |
| `port` | `8080` | –ü–æ—Ä—Ç signalling —Å–µ—Ä–≤–µ—Ä–∞ |
| `app` | `desktop` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ) | –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `secure` | `false` (–¥–ª—è HTTP) | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS/WSS (`true`/`false`) |
| `debug` | `true` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É |
| `encoder` | `h264` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥–µ–∫ |
| `audio` | `true` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –í–∫–ª—é—á–∏—Ç—å –∞—É–¥–∏–æ |
| `resizeRemote` | `true` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –ò–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| `scaleLocal` | `true` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –õ–æ–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ |

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ `server`, –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã (WebSocket, `/turn`, –∏ —Ç.–¥.) –±—É–¥—É—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –∞ –Ω–µ –Ω–∞ `localhost`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–æ–∫–∞–ª—å–Ω–æ, –ø–æ–¥–∫–ª—é—á–∞—è—Å—å –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É.

### –ü—Ä–∏–º–µ—Ä—ã URL

**–° –æ—Ç–ª–∞–¥–∫–æ–π:**
```
http://111.111.111.111/?server=111.111.111.111&port=8080&app=desktop&debug=true
```

**–ë–µ–∑ –æ—Ç–ª–∞–¥–∫–∏:**
```
http://111.111.111.111/?server=111.111.111.111&port=8080&app=desktop
```

**–° –≤—ã–±–æ—Ä–æ–º –∫–æ–¥–µ–∫–∞:**
```
http://111.111.111.111/?server=111.111.111.111&port=8080&app=desktop&debug=true&encoder=h264
```

**–î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (—Å –ª–æ–∫–∞–ª—å–Ω—ã–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º):**
```
http://111.111.111.111/?server=111.111.111.111&port=8080&app=desktop&scaleLocal=true
```

---

## üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏ `debug=true` –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ:

- **Video Bitrate:** —Å–∫–æ—Ä–æ—Å—Ç—å –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–∞
- **Audio Bitrate:** —Å–∫–æ—Ä–æ—Å—Ç—å –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫–∞
- **FPS:** –∫–∞–¥—Ä—ã –≤ —Å–µ–∫—É–Ω–¥—É
- **Latency:** –∑–∞–¥–µ—Ä–∂–∫–∞
- **GPU Load:** –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã
- **CPU Load:** –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- **Memory:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **Resolution:** —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–∏–¥–µ–æ
- **Encoder:** –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥–µ–∫

---

## üîë –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

| –ö–æ–º–±–∏–Ω–∞—Ü–∏—è | –î–µ–π—Å—Ç–≤–∏–µ |
|------------|----------|
| `Ctrl + Shift + M` | –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –º–µ–Ω—é (–µ—Å–ª–∏ –µ—Å—Ç—å) |
| `Ctrl + Shift + F` | –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º |
| `Ctrl + Shift + Left Click` | –í–∫–ª—é—á–∏—Ç—å Pointer Lock (–¥–ª—è –∏–≥—Ä) |
| `ESC` | –í—ã–π—Ç–∏ –∏–∑ Pointer Lock |
| `F11` | –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º |

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL, —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
cd ~/github/selkies/addons/gst-web-react
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ:

```env
VITE_WEBRTC_SERVER=111.111.111.111
VITE_WEBRTC_PORT=8080
VITE_APP_NAME=desktop
VITE_DEBUG=true
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:

```bash
npm run build
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ `http://111.111.111.111/` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Ä–æ–¥–µ:

```
WebSocket connected to ws://111.111.111.111:8080
ICE connection state: checking
ICE connection state: connected
Received incoming video stream from peer
```

### 3. –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏

**"Failed to connect to WebSocket"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ 111.111.111.111:8080
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall

**"ICE connection failed"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ STUN/TURN
- –í–æ–∑–º–æ–∂–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WebRTC –ø–æ—Ä—Ç–æ–≤

**"Black screen"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—â–µ–Ω —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ö–æ–≥–¥–∞ –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
git push

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/github/selkies
git pull
cd addons/gst-web-react
npm install
npm run build
sudo cp -r dist/* /var/www/gst-web/
```

---

## üéØ –ò—Ç–æ–≥–æ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:

‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 111.111.111.111  
‚úÖ –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É  
‚úÖ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
‚úÖ –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã  
‚úÖ TypeScript + React –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞  

**–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**

